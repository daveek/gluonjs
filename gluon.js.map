{"version":3,"sources":["gluon.js"],"names":["render","html","GluonElement","HTMLElement","is","TAG","camelToKebab","name","connectedCallback","attachShadow","mode","template","shadowRoot","createIdCache","NEEDSRENDER","Promise","resolve","then","replace","toLowerCase","Symbol","$","querySelectorAll","forEach","id"],"mappings":"AAAA,OAASA,MAAT,CAAiBC,IAAjB,KAA6B,yBAA7B,CAEA,OAASA,IAAT,EAEA,MAAO,MAAMC,aAAN,QAA2BC,YAAY,CAC5C,UAAWC,GAAX,EAAgB,CACd,MAAO,MAAKC,GAAL,IAAc,KAAKA,GAAL,EAAYC,aAAa,KAAKC,IAAlB,CAA1B,CACR,CACDC,mBAAoB,CACd,YAAc,KADA,GAEhB,KAAKC,YAAL,CAAkB,CAAEC,KAAM,MAAR,CAAlB,CAFgB,CAGhBV,OAAO,KAAKW,QAAZ,CAAsB,KAAKC,UAA3B,CAHgB,CAIhBC,cAAc,IAAd,CAJgB,CAMnB,CACDb,QAAS,CACF,KAAKc,WAAL,CADE,GAEL,KAAKA,WAAL,IAFK,CAGLC,QAAQC,OAAR,GAAkBC,IAAlB,CAAuB,IAAM,CAC3B,KAAKH,WAAL,IAD2B,CAE3Bd,OAAO,KAAKW,QAAZ,CAAsB,KAAKC,UAA3B,CACD,CAHD,CAHK,CAQR,CAnB2C,CAsB9C,KAAMN,cAAe,WAAgB,CACnC,MAAO,GAAMY,OAAN,CAAc,iCAAd,CAAiD,WAAjD,EAA8DC,WAA9D,EACR,CAFD,CAIMd,IAAMe,OAAO,KAAP,CAJZ,CAKMN,YAAcM,OAAO,aAAP,CALpB,CAOMP,cAAgB,WAAkB,CACtC,EAAQQ,CAAR,GADsC,CAEtC,EAAQT,UAAR,CAAmBU,gBAAnB,CAAoC,MAApC,EAA4CC,OAA5C,CAAoD,KAAM,CACxD,EAAQF,CAAR,CAAU,EAAGG,EAAb,GACD,CAFD,CAGD,CAZD","file":"gluon.js","sourcesContent":["import { render, html } from '../lit-html/lit-html.js';\n\nexport { html };\n\nexport class GluonElement extends HTMLElement {\n  static get is() {\n    return this[TAG] || (this[TAG] = camelToKebab(this.name));\n  }\n  connectedCallback() {\n    if ('template' in this) {\n      this.attachShadow({ mode: 'open' });\n      render(this.template, this.shadowRoot);\n      createIdCache(this);\n    }\n  }\n  render() {\n    if (!this[NEEDSRENDER]) {\n      this[NEEDSRENDER] = true;\n      Promise.resolve().then(() => {\n        this[NEEDSRENDER] = false;\n        render(this.template, this.shadowRoot);\n      });\n    }\n  }\n}\n\nconst camelToKebab = function(camel) {\n  return camel.replace(/([a-z])([A-Z])|(.)([A-Z][a-z])/g, '$1$3-$2$4').toLowerCase();\n};\n\nconst TAG = Symbol('tag');\nconst NEEDSRENDER = Symbol('needsRender');\n\nconst createIdCache = function(element) {\n  element.$ = {};\n  element.shadowRoot.querySelectorAll('[id]').forEach(el => {\n    element.$[el.id] = el;\n  });\n};\n"]}